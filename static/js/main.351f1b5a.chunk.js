(this["webpackJsonpreact-fsm"]=this["webpackJsonpreact-fsm"]||[]).push([[0],{135:function(e,t,n){e.exports=n(297)},140:function(e,t,n){},297:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"trafficLight",(function(){return R})),n.d(r,"ballPointPen",(function(){return U})),n.d(r,"passwordValidator",(function(){return D})),n.d(r,"interviewProcess",(function(){return $}));var a=n(0),o=n.n(a),c=n(126),i=n.n(c),l=(n(140),n(7)),s=n(5),u=n(13),d=n(68),f=n(128),h=n(10),b=n(69),p=n(72),w=n(73),m=n(6),g=n(70),v=Object(g.a)("states"),j=Object(g.a)("currentState"),y=function(e){Object(b.a)(n,e);var t=Object(p.a)(n);function n(e,r){var a;if(Object(d.a)(this,n),a=t.call(this),Object.defineProperty(Object(h.a)(a),v,{writable:!0,value:void 0}),Object.defineProperty(Object(h.a)(a),j,{writable:!0,value:void 0}),0===e.size)throw new Error("states must not be empty");if(void 0!==r){if(!e.has(r))throw new Error('Initial state "'.concat(r,'" is not a valid state'));Object(m.a)(Object(h.a)(a),j)[j]=r}else Object(m.a)(Object(h.a)(a),j)[j]=e.keys().next().value;return Object(m.a)(Object(h.a)(a),v)[v]=e,a}return Object(f.a)(n,[{key:"isValidAction",value:function(e){return this.allowedActions.has(e)}},{key:"assertValidAction",value:function(e){if(!e||!this.isValidAction(e))throw new Error('State "'.concat(this.currentState,'" has no "').concat(e,'" action'))}},{key:"assertValidState",value:function(e){if(!e||!Object(m.a)(this,v)[v].has(e))throw new Error('State "'.concat(e,'" is not valid'))}},{key:"doAction",value:function(e){this.assertValidAction(e);var t=Object(m.a)(this,v)[v].get(Object(m.a)(this,j)[j]).get(e);this.assertValidState(t),this.dispatchEvent(new O(t,e,this.currentState)),Object(m.a)(this,j)[j]=t}},{key:"currentState",get:function(){return Object(m.a)(this,j)[j]}},{key:"allowedActions",get:function(){var e;return new Set(null===(e=Object(m.a)(this,v)[v].get(Object(m.a)(this,j)[j]))||void 0===e?void 0:e.keys())}}]),n}(Object(w.a)(EventTarget));y.EVENTS={stateChanged:"stateChanged"};var O=function(e){Object(b.a)(n,e);var t=Object(p.a)(n);function n(e,r,a){var o;return Object(d.a)(this,n),(o=t.call(this,y.EVENTS.stateChanged)).prev=void 0,o.action=void 0,o.current=void 0,o.prev=a,o.action=r,o.current=e,o}return n}(Object(w.a)(Event));var E=function(e,t){var n=Object(a.useMemo)((function(){return new y(e,t)}),[]),r=Object(a.useState)(n.currentState),o=Object(s.a)(r,2),c=o[0],i=o[1],l=Object(a.useCallback)((function(e){return n.doAction(e)}),[n]),u=Object(a.useCallback)((function(e){return i(e.current)}),[]);return Object(a.useEffect)((function(){return n.addEventListener(y.EVENTS.stateChanged,u),function(){return n.addEventListener(y.EVENTS.stateChanged,u)}}),[n,u]),[c,{doAction:l,allowedActions:n.allowedActions}]};var k=n(129),A=n.n(k),M=function(e){var t=e.states,n=(e.initial,e.current),r=Object(a.useRef)(null),c=Object(a.useMemo)((function(){return function(e){return{nodes:Array.from(e.entries()).map((function(e){var t=Object(s.a)(e,2),n=t[0],r=t[1];return{id:n,label:n,color:{border:Boolean(r)?void 0:"red"}}})),edges:Array.from(e.entries()).filter((function(e){var t=Object(s.a)(e,2);t[0];return null!==t[1]})).flatMap((function(e,t){var n=Object(s.a)(e,2),r=n[0],a=n[1];return Array.from(a.entries()).map((function(e){var t=Object(s.a)(e,2),n=t[0],a=t[1];return{from:r,to:a,label:n}}))}))}}(t)}),[t]);return Object(a.useEffect)((function(){n&&r.current.selectNodes([n])}),[n]),o.a.createElement("div",{style:{outlineWidth:0,height:"400px",width:"500px"}},o.a.createElement(A.a,{graph:c,options:{interaction:{zoomView:!1,selectable:!1,dragView:!1,dragNodes:!1,selectConnectedEdges:!1},nodes:{color:{background:"white",border:"black",highlight:{background:"white",border:"green"}}},edges:{smooth:{enabled:!0,type:"dynamic",roundness:.5},length:150,arrows:{to:!0},color:{inherit:!1,highlight:"black",color:"black"}},physics:{enabled:!0},layout:{randomSeed:1}},getNetwork:function(e){return r.current=e}}))};function x(){var e=Object(l.a)(["\n  display: flex;\n\n  align-items: center;\n  justify-content: space-around;\n"]);return x=function(){return e},e}function S(){var e=Object(l.a)(["\n  padding: 0.5rem 1rem;\n  &:first-of-type {\n    margin-left: 1rem;\n  }\n  &:not(:last-of-type) {\n    margin-right: 1rem;\n  }\n"]);return S=function(){return e},e}var C=u.a.button(S()),V=function(e){var t=e.states,n=E(t),r=Object(s.a)(n,2),a=r[0],c=r[1],i=c.allowedActions,l=c.doAction;return o.a.createElement(o.a.Fragment,null,o.a.createElement(M,{states:t,current:a}),o.a.createElement(N,null,o.a.createElement("pre",null,"Current state: ",a),o.a.createElement("pre",null,"Actions:",i.size?Array.from(i).map((function(e){return o.a.createElement(C,{key:e,onClick:function(){return l(e)}},e)})):o.a.createElement(C,{disabled:!0},"N/A"))))},N=u.a.div(x()),F=n(299),P=n(132),T=n(134);F.a.registerLanguage("javascript",P.a);var z=function(e){var t=e.children;return o.a.createElement(F.a,{language:"javascript",style:T.a},t)},B=n(17);function I(){var e=Object(l.a)(["\n  border: 1px solid var(--color-bg-secondary);\n  border-radius: var(--border-radius);\n  box-shadow: var(--box-shadow) var(--color-shadow);\n  margin: 1rem;\n  padding: 1.25rem;\n"]);return I=function(){return e},e}var L=u.a.div(I());function W(e){var t=e.options,n=e.selected,r=e.onChange,a=e.renderItem;return o.a.createElement("select",{onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return r(e.target.value)}))},t.map((function(e){return o.a.createElement("option",{selected:e===n},(null===a||void 0===a?void 0:a(e))||e)})))}function H(){var e=Object(l.a)(['\n        :root {\n          --border-radius: 5px;\n          --box-shadow: 2px 2px 10px;\n          --color: #118bee;\n          --color-accent: #118bee15;\n          --color-bg: #fff;\n          --color-bg-secondary: #e9e9e9;\n          --color-secondary: #920de9;\n          --color-secondary-accent: #920de90b;\n          --color-shadow: #f4f4f4;\n          --color-text: #000;\n          --color-text-secondary: #999;\n          --font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,\n            Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;\n          --hover-brightness: 1.2;\n          --justify-important: center;\n          --justify-normal: left;\n          --line-height: 1.5;\n          --width-card: 285px;\n          --width-card-medium: 460px;\n          --width-card-wide: 800px;\n          --width-content: 1080px;\n        }\n\n        @media (prefers-color-scheme: dark) {\n          :root {\n            --color: #0097fc;\n            --color-accent: #0097fc4f;\n            --color-bg: #333;\n            --color-bg-secondary: #555;\n            --color-secondary: #e20de9;\n            --color-secondary-accent: #e20de94f;\n            --color-shadow: #bbbbbb20;\n            --color-text: #f7f7f7;\n            --color-text-secondary: #aaa;\n          }\n        }\n\n        h1,\n        h2,\n        h3 {\n          text-align: center;\n        }\n      ']);return H=function(){return e},e}function J(){return o.a.createElement(B.a,{styles:Object(B.c)(H())})}var R={data:new Map([["red",new Map([["yellow","yellow"]])],["yellow",new Map([["red","red"],["green","green"]])],["green",new Map([["yellow","yellow"]])]])},U={data:new Map([["close",new Map([["click","open"]])],["open",new Map([["click","close"]])]])},D={data:new Map([["locked",new Map([["press 1","1"],["other digit","locked"]])],["1",new Map([["press 2","2"],["other digit","locked"]])],["2",new Map([["press 3","3"],["other digit","locked"]])],["3",new Map([["press 4","4"],["other digit","locked"]])],["4",new Map([["press *","unlocked"],["other digit","locked"]])],["unlocked",new Map([["press lock","locked"]])]])},$={data:new Map([["start",new Map([["go","phone interview"],["no go","withdrawn"]])],["phone interview",new Map([["go","technical interview"],["no go","withdrawn"]])],["technical interview",new Map([["go","final interview"]])],["final interview",new Map([["no go","withdrawn"],["go","hired"]])],["hired",new Map([["work","hired"]])],["withdrawn",null]])};function _(){var e=Object(l.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  justify-content: space-around;\n"]);return _=function(){return e},e}var q=function(){var e=Object(a.useMemo)((function(){return Object.keys(r)}),[]),t=Object(a.useState)(e[0]),n=Object(s.a)(t,2),c=n[0],i=n[1];return o.a.createElement(G,null,o.a.createElement(z,null,"function FSM() {\n  const [current, { allowedActions, doAction }] = useFsm(states);\n  return (\n    <>\n      <pre>Current state: {current}</pre>\n      <pre>\n        Actions:\n        {allowedActions.size ? (\n          Array.from(allowedActions).map((action) => (\n            <button key={action} onClick={() => doAction(action)}>\n              {action}\n            </button>\n          ))\n        ) : (\n          <button disabled>N/A</button>\n        )}\n      </pre>\n    </>\n  );\n}"),o.a.createElement(L,null,o.a.createElement("pre",null,"const states ="," ",o.a.createElement(W,{selected:c,options:e,onChange:function(e){return i(e)}})),o.a.createElement(V,{key:c,states:r[c].data})))},G=u.a.div(_());function K(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(J,null),o.a.createElement("header",null,o.a.createElement("h1",null,"react-fsm"),o.a.createElement("h2",null,"A react hook for creating"," ",o.a.createElement("a",{href:"https://en.wikipedia.org/wiki/Finite-state_machine"},"Finite-state machine"))),o.a.createElement("main",null,o.a.createElement(q,null)),o.a.createElement("footer",null,"Created by"," ",o.a.createElement("a",{href:"https://github.com/daniel-hauser"},"Daniel Hauser")))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(K,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[135,1,2]]]);
//# sourceMappingURL=main.351f1b5a.chunk.js.map