(this["webpackJsonpreact-fsm"]=this["webpackJsonpreact-fsm"]||[]).push([[0],{138:function(e){e.exports=JSON.parse('[{"name":"Traffic Light","states":[["red",[["yellow","yellow"]]],["yellow",[["red","red"],["green","green"]]],["green",[["yellow","yellow"]]]]},{"name":"Retractable pen","states":[["close",[["click","open"]]],["open",[["click","close"]]]]},{"name":"Password Validator","states":[["locked",[["press 1","1"],["other digit","locked"]]],["1",[["press 2","2"],["other digit","locked"]]],["2",[["press 3","3"],["other digit","locked"]]],["3",[["press 4","4"],["other digit","locked"]]],["4",[["press *","unlocked"],["other digit","locked"]]],["unlocked",[["press lock","locked"]]]]},{"name":"Interview Process","states":[["start",[["go","phone interview"],["no go","withdrawn"]]],["phone interview",[["go","technical interview"],["no go","withdrawn"]]],["technical interview",[["go","final interview"]]],["final interview",[["no go","withdrawn"],["go","hired"]]],["hired",[["work","hired"]]],["withdrawn",null]]}]')},139:function(e,t,n){e.exports=n(302)},144:function(e,t,n){},302:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(127),c=n.n(o),i=(n(144),n(6)),l=n(8),s=n(17);function u(){var e=Object(i.a)(["\n  border: 1px solid var(--color-bg-secondary);\n  border-radius: var(--border-radius);\n  box-shadow: var(--box-shadow) var(--color-shadow);\n  margin: 1rem;\n  padding: 1.25rem;\n"]);return u=function(){return e},e}var d=l.a.div(u());var f=function(e){var t=e.options,n=e.selected,r=e.onChange,o=e.renderItem;return a.a.createElement("select",{onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return r(e.target.value)}))},t.map((function(e){var t;return a.a.createElement("option",{key:e,selected:e===n},null!==(t=null===o||void 0===o?void 0:o(e))&&void 0!==t?t:e)})))};function h(){var e=Object(i.a)(["\n  text-align: center;\n  padding: 1rem;\n"]);return h=function(){return e},e}var m=l.a.footer(h());function b(){var e=Object(i.a)(['\n        :root {\n          --border-radius: 5px;\n          --box-shadow: 2px 2px 10px;\n          --color: #118bee;\n          --color-accent: #118bee15;\n          --color-bg: #fff;\n          --color-bg-secondary: #e9e9e9;\n          --color-secondary: #920de9;\n          --color-secondary-accent: #920de90b;\n          --color-shadow: #f4f4f4;\n          --color-text: #000;\n          --color-text-secondary: #999;\n          --font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,\n            Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;\n          --hover-brightness: 1.2;\n          --justify-important: center;\n          --justify-normal: left;\n          --line-height: 1.5;\n          --width-card: 285px;\n          --width-card-medium: 460px;\n          --width-card-wide: 800px;\n          --width-content: 1080px;\n        }\n\n        @media (prefers-color-scheme: dark) {\n          :root {\n            --color: #0097fc;\n            --color-accent: #0097fc4f;\n            --color-bg: #333;\n            --color-bg-secondary: #555;\n            --color-secondary: #e20de9;\n            --color-secondary-accent: #e20de94f;\n            --color-shadow: #bbbbbb20;\n            --color-text: #f7f7f7;\n            --color-text-secondary: #aaa;\n          }\n        }\n\n        h1,\n        h2,\n        h3 {\n          text-align: center;\n        }\n      ']);return b=function(){return e},e}function p(){return a.a.createElement(s.a,{styles:Object(s.c)(b())})}var v=n(305),g=n(131),w=n(133);v.a.registerLanguage("javascript",g.a);var y=function(e){var t=e.children;return a.a.createElement(v.a,{language:"javascript",style:w.a},t)},E=n(3),j=n(69),O=n(134),x=n(11),k=n(70),S=n(73),A=n(74),C=n(7),N=n(71),V=Object(N.a)("states"),T=Object(N.a)("currentState"),M=function(e){Object(k.a)(n,e);var t=Object(S.a)(n);function n(e,r){var a;if(Object(j.a)(this,n),a=t.call(this),Object.defineProperty(Object(x.a)(a),V,{writable:!0,value:void 0}),Object.defineProperty(Object(x.a)(a),T,{writable:!0,value:void 0}),0===e.size)throw new TypeError("states must not be empty");if(void 0!==r){if(!e.has(r))throw new TypeError('Initial state "'.concat(r,'" is not a valid state'));Object(C.a)(Object(x.a)(a),T)[T]=r}else Object(C.a)(Object(x.a)(a),T)[T]=e.keys().next().value;return Object(C.a)(Object(x.a)(a),V)[V]=e,a}return Object(O.a)(n,[{key:"assertValidAction",value:function(e){if(!e||!this.allowedActions.has(e))throw new TypeError('State "'.concat(this.currentState,'" has no "').concat(e,'" action'))}},{key:"assertValidState",value:function(e){if(!e||!Object(C.a)(this,V)[V].has(e))throw new TypeError('State "'.concat(e,'" is not valid'))}},{key:"doAction",value:function(e){this.assertValidAction(e);var t=Object(C.a)(this,V)[V].get(Object(C.a)(this,T)[T]).get(e);this.assertValidState(t),this.dispatchEvent(new F(t,e,this.currentState)),Object(C.a)(this,T)[T]=t}},{key:"currentState",get:function(){return Object(C.a)(this,T)[T]}},{key:"allowedActions",get:function(){var e;return new Set(null===(e=Object(C.a)(this,V)[V].get(Object(C.a)(this,T)[T]))||void 0===e?void 0:e.keys())}}]),n}(Object(A.a)(EventTarget));M.EVENTS={stateChanged:"stateChanged"};var F=function(e){Object(k.a)(n,e);var t=Object(S.a)(n);function n(e,r,a){var o;return Object(j.a)(this,n),(o=t.call(this,M.EVENTS.stateChanged)).prev=void 0,o.action=void 0,o.current=void 0,o.prev=a,o.action=r,o.current=e,o}return n}(Object(A.a)(Event));var B=function(e,t){var n=Object(r.useMemo)((function(){return new M(e,t)}),[]),a=Object(r.useState)(n.currentState),o=Object(E.a)(a,2),c=o[0],i=o[1],l=Object(r.useCallback)((function(e){return n.doAction(e)}),[n]),s=Object(r.useCallback)((function(e){return i(e.current)}),[]);return Object(r.useEffect)((function(){return n.addEventListener(M.EVENTS.stateChanged,s),function(){return n.removeEventListener(M.EVENTS.stateChanged,s)}}),[n,s]),[c,{doAction:l,allowedActions:n.allowedActions}]};var I=n(135),z=n.n(I);var L=function(e){var t=e.states,n=e.current,o=Object(r.useRef)(null),c=Object(r.useMemo)((function(){return function(e){return{nodes:Array.from(e.entries()).map((function(e){var t=Object(E.a)(e,2),n=t[0],r=t[1];return{id:n,label:n,color:{border:Boolean(r)?void 0:"red"}}})),edges:Array.from(e.entries()).filter((function(e){var t=Object(E.a)(e,2);t[0];return null!==t[1]})).flatMap((function(e){var t=Object(E.a)(e,2),n=t[0],r=t[1];return Array.from(r.entries()).map((function(e){var t=Object(E.a)(e,2),r=t[0],a=t[1];return{from:n,to:a,label:r}}))}))}}(t)}),[t]);return Object(r.useEffect)((function(){var e;n&&(null===(e=o.current)||void 0===e||e.selectNodes([n]))}),[n]),a.a.createElement("div",{style:{outlineWidth:0,height:"400px",width:"500px"}},a.a.createElement(z.a,{graph:c,options:{interaction:{zoomView:!1,selectable:!1,dragView:!1,dragNodes:!1,selectConnectedEdges:!1},nodes:{color:{background:"white",border:"black",highlight:{background:"white",border:"green"}}},edges:{smooth:{enabled:!0,type:"dynamic",roundness:.5},length:150,arrows:{to:!0},color:{inherit:!1,highlight:"black",color:"black"}},physics:{enabled:!0},layout:{randomSeed:1}},getNetwork:function(e){o.current=e}}))};function P(){var e=Object(i.a)(["\n  display: flex;\n\n  align-items: center;\n  justify-content: space-between;\n"]);return P=function(){return e},e}function J(){var e=Object(i.a)(["\n  padding: 0.5rem 1rem;\n  &:first-of-type {\n    margin-left: 1rem;\n  }\n  &:not(:last-of-type) {\n    margin-right: 1rem;\n  }\n"]);return J=function(){return e},e}var R=l.a.button(J()),W=function(e){var t=e.states,n=B(t),r=Object(E.a)(n,2),o=r[0],c=r[1],i=c.allowedActions,l=c.doAction;return a.a.createElement(a.a.Fragment,null,a.a.createElement(L,{states:t,current:o}),a.a.createElement(H,null,a.a.createElement("pre",null,"Current state: ",o),a.a.createElement("pre",null,"Actions:",i.size?Array.from(i).map((function(e){return a.a.createElement(R,{key:e,onClick:function(){return l(e)}},e)})):a.a.createElement(R,{disabled:!0},"N/A"))))},H=l.a.div(P());var U=function(e){var t=e.examples,n=e.selected,r=e.onChange;return a.a.createElement(f,{selected:null===n||void 0===n?void 0:n.name,options:t.map((function(e){return e.name})),onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){r(t.find((function(t){return t.name===e})))}))})},_=n(136);function D(){return a.a.createElement(_.a,{speed:2,width:400,height:400,viewBox:"0 0 400 400",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb"},a.a.createElement("rect",{x:"8",y:"15",rx:"0",ry:"0",width:"130",height:"20"}),a.a.createElement("rect",{x:"166",y:"15",rx:"0",ry:"0",width:"130",height:"20"}),a.a.createElement("rect",{x:"13",y:"368",rx:"0",ry:"0",width:"163",height:"19"}),a.a.createElement("rect",{x:"230",y:"353",rx:"0",ry:"0",width:"156",height:"36"}),a.a.createElement("circle",{cx:"80",cy:"200",r:"41"}),a.a.createElement("circle",{cx:"200",cy:"200",r:"41"}),a.a.createElement("circle",{cx:"330",cy:"200",r:"41"}))}var $=function(e){var t=e.examples,n=Object(r.useState)(t[0]),o=Object(E.a)(n,2),c=o[0],i=o[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement("pre",null,"const states ="," ",a.a.createElement(U,{examples:t,selected:c,onChange:i})),c&&a.a.createElement(W,{key:c.name,states:c.states}))},q=n(72),G=n.n(q),K=n(137),Q=n(306);function X(e){return e.map((function(e){var t=e.name,n=e.states;return{name:t,states:new Map(n.map((function(e){var t=Object(E.a)(e,2),n=t[0],r=t[1];return[n,r&&new Map(r)]})))}}))}var Y=n(138);function Z(){return ee.apply(this,arguments)}function ee(){return(ee=Object(K.a)(G.a.mark((function e(){var t;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://jsonbox.io/box_06bc77e3db7377eac068/examples");case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(){var e=Object(i.a)(["\n  padding: 2rem;\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  justify-content: space-evenly;\n"]);return te=function(){return e},e}var ne=l.a.div(te()),re=function(){var e=function(){var e=Object(Q.a)(Z),t=e.value,n=e.error,a=e.loading;return{examples:Object(r.useMemo)((function(){return n?X(Y):a?null:X(t)}),[t,n,a]),loading:a}}(),t=e.examples,n=e.loading;return a.a.createElement(ne,null,a.a.createElement(d,null,n&&a.a.createElement(D,null),t&&a.a.createElement($,{examples:t})),a.a.createElement(y,null,"function FSM() {\n  const [currentState, { allowedActions, doAction }] = useFsm(states);\n  return (\n    <>\n      <pre>Current state: {currentState}</pre>\n      <pre>\n        Actions:\n        {allowedActions.size ? (\n          Array.from(allowedActions).map((action) => (\n            <button key={action} onClick={() => doAction(action)}>\n              {action}\n            </button>\n          ))\n        ) : (\n          <button disabled>N/A</button>\n        )}\n      </pre>\n    </>\n  );\n}\n"))};function ae(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(p,null),a.a.createElement("header",null,a.a.createElement("h1",null,"react-fsm"),a.a.createElement("h2",null,"A react hook for creating"," ",a.a.createElement("a",{href:"https://en.wikipedia.org/wiki/Finite-state_machine"},"Finite-state machine"))),a.a.createElement("main",null,a.a.createElement(re,null)),a.a.createElement(m,null,"Created by"," ",a.a.createElement("a",{href:"https://github.com/daniel-hauser"},"Daniel Hauser")))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(ae,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[139,1,2]]]);
//# sourceMappingURL=main.acd1cb0f.chunk.js.map